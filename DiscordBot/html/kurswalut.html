<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>kurswalut API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>kurswalut</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import discord
import youtube_dl
from discord.ext import commands
from discord.ext.commands import Bot
from discord.voice_client import VoiceClient
from discord.ext import tasks, commands
import datetime
import webbrowser
from random import randint
import asyncio
import time
import sys
import xmltodict
import urllib3
from bs4 import BeautifulSoup

class CurrencyCog(commands.Cog):
    
    def __init__(self, bot):
        self.bot = bot
        self.update()
       
    
    def update(self):
        self.x = Kurs()

    @commands.command()
    async def kurs(self,ctx, get_from, to, number):
        index_from = self.x.currency.index(get_from.upper())
        index_to = self.x.currency.index(to.upper())
        value_from = float(self.x.currency_value[index_from].replace(&#39;,&#39;,&#39;.&#39;))
        value_to = float(self.x.currency_value[index_to].replace(&#39;,&#39;,&#39;.&#39;))
        value = float(number.replace(&#39;,&#39;,&#39;.&#39;))
        value = (value*value_from)/value_to
        await ctx.channel.send(str(value) + &#34; &#34; +self.x.currency[index_to])


class Kurs():
    def __init__(self):
        with open(&#39;kursy.xml&#39;, encoding=&#34;ISO-8859-2&#34;) as fd:
            self.doc = xmltodict.parse(fd.read()) 
            self.currency = []
            self.currency_value = []
            self.currency_multiplier = []
            self.read_name()
            self.read_value()
            self.read_multiplier()
            self.update()
    
    def update(self):
        http = urllib3.PoolManager()
        url = &#34;https://www.nbp.pl/home.aspx?f=%2Fkursy%2Fkursya.html&amp;fbclid=IwAR3Sir-RDL9hk0cvRcz7Jo2q3rTz1hbFwQgD6AReV0xeXrvj1JHQgV86s34&#34;
        r = http.request(&#39;GET&#39;,url, preload_content=False)
        soup = BeautifulSoup(r.data)
        link = soup.find(&#34;p&#34;,{&#34;class&#34;:&#34;file print_hidden&#34;}).find(&#34;a&#34;)
        nbp_site = &#34;https://www.nbp.pl&#34; + link.get(&#39;href&#39;)
        r.release_conn()
        print(nbp_site)
        r2 = http.request(&#39;GET&#39;,nbp_site, preload_content=False)
        with open(&#39;kursy.xml&#39;, &#39;wb&#39;) as out:
            out.write(r2.data)
        r2.release_conn()
    
    def read_name(self):
        self.currency.append(&#34;PLN&#34;)
        for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
            self.currency.append(i.get(&#39;kod_waluty&#39;))
        
    def read_value(self):
        self.currency_value.append(&#34;1,0&#34;)   
        for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
            self.currency_value.append(i.get(&#39;kurs_sredni&#39;)) 
    
    def read_multiplier(self):
        self.currency_value.append(&#34;1&#34;)   
        for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
            self.currency_value.append(i.get(&#39;przelicznik&#39;)) 


def setup(bot):
    bot.add_cog(CurrencyCog(bot))</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="kurswalut.setup"><code class="name flex">
<span>def <span class="ident">setup</span></span>(<span>bot)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setup(bot):
    bot.add_cog(CurrencyCog(bot))</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="kurswalut.CurrencyCog"><code class="flex name class">
<span>class <span class="ident">CurrencyCog</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>The base class that all cogs must inherit from.</p>
<p>A cog is a collection of commands, listeners, and optional state to
help group commands together. More information on them can be found on
the :ref:<code>ext_commands_cogs</code> page.</p>
<p>When inheriting from this class, the options shown in :class:<code>CogMeta</code>
are equally valid here.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CurrencyCog(commands.Cog):
    
    def __init__(self, bot):
        self.bot = bot
        self.update()
       
    
    def update(self):
        self.x = Kurs()

    @commands.command()
    async def kurs(self,ctx, get_from, to, number):
        index_from = self.x.currency.index(get_from.upper())
        index_to = self.x.currency.index(to.upper())
        value_from = float(self.x.currency_value[index_from].replace(&#39;,&#39;,&#39;.&#39;))
        value_to = float(self.x.currency_value[index_to].replace(&#39;,&#39;,&#39;.&#39;))
        value = float(number.replace(&#39;,&#39;,&#39;.&#39;))
        value = (value*value_from)/value_to
        await ctx.channel.send(str(value) + &#34; &#34; +self.x.currency[index_to])</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>discord.ext.commands.cog.Cog</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="kurswalut.CurrencyCog.kurs"><code class="name">var <span class="ident">kurs</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="kurswalut.CurrencyCog.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self):
    self.x = Kurs()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="kurswalut.Kurs"><code class="flex name class">
<span>class <span class="ident">Kurs</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Kurs():
    def __init__(self):
        with open(&#39;kursy.xml&#39;, encoding=&#34;ISO-8859-2&#34;) as fd:
            self.doc = xmltodict.parse(fd.read()) 
            self.currency = []
            self.currency_value = []
            self.currency_multiplier = []
            self.read_name()
            self.read_value()
            self.read_multiplier()
            self.update()
    
    def update(self):
        http = urllib3.PoolManager()
        url = &#34;https://www.nbp.pl/home.aspx?f=%2Fkursy%2Fkursya.html&amp;fbclid=IwAR3Sir-RDL9hk0cvRcz7Jo2q3rTz1hbFwQgD6AReV0xeXrvj1JHQgV86s34&#34;
        r = http.request(&#39;GET&#39;,url, preload_content=False)
        soup = BeautifulSoup(r.data)
        link = soup.find(&#34;p&#34;,{&#34;class&#34;:&#34;file print_hidden&#34;}).find(&#34;a&#34;)
        nbp_site = &#34;https://www.nbp.pl&#34; + link.get(&#39;href&#39;)
        r.release_conn()
        print(nbp_site)
        r2 = http.request(&#39;GET&#39;,nbp_site, preload_content=False)
        with open(&#39;kursy.xml&#39;, &#39;wb&#39;) as out:
            out.write(r2.data)
        r2.release_conn()
    
    def read_name(self):
        self.currency.append(&#34;PLN&#34;)
        for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
            self.currency.append(i.get(&#39;kod_waluty&#39;))
        
    def read_value(self):
        self.currency_value.append(&#34;1,0&#34;)   
        for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
            self.currency_value.append(i.get(&#39;kurs_sredni&#39;)) 
    
    def read_multiplier(self):
        self.currency_value.append(&#34;1&#34;)   
        for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
            self.currency_value.append(i.get(&#39;przelicznik&#39;)) </code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="kurswalut.Kurs.read_multiplier"><code class="name flex">
<span>def <span class="ident">read_multiplier</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def read_multiplier(self):
    self.currency_value.append(&#34;1&#34;)   
    for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
        self.currency_value.append(i.get(&#39;przelicznik&#39;)) </code></pre>
</details>
</dd>
<dt id="kurswalut.Kurs.read_name"><code class="name flex">
<span>def <span class="ident">read_name</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def read_name(self):
    self.currency.append(&#34;PLN&#34;)
    for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
        self.currency.append(i.get(&#39;kod_waluty&#39;))</code></pre>
</details>
</dd>
<dt id="kurswalut.Kurs.read_value"><code class="name flex">
<span>def <span class="ident">read_value</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def read_value(self):
    self.currency_value.append(&#34;1,0&#34;)   
    for i in self.doc[&#34;tabela_kursow&#34;][&#34;pozycja&#34;]:
        self.currency_value.append(i.get(&#39;kurs_sredni&#39;)) </code></pre>
</details>
</dd>
<dt id="kurswalut.Kurs.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self):
    http = urllib3.PoolManager()
    url = &#34;https://www.nbp.pl/home.aspx?f=%2Fkursy%2Fkursya.html&amp;fbclid=IwAR3Sir-RDL9hk0cvRcz7Jo2q3rTz1hbFwQgD6AReV0xeXrvj1JHQgV86s34&#34;
    r = http.request(&#39;GET&#39;,url, preload_content=False)
    soup = BeautifulSoup(r.data)
    link = soup.find(&#34;p&#34;,{&#34;class&#34;:&#34;file print_hidden&#34;}).find(&#34;a&#34;)
    nbp_site = &#34;https://www.nbp.pl&#34; + link.get(&#39;href&#39;)
    r.release_conn()
    print(nbp_site)
    r2 = http.request(&#39;GET&#39;,nbp_site, preload_content=False)
    with open(&#39;kursy.xml&#39;, &#39;wb&#39;) as out:
        out.write(r2.data)
    r2.release_conn()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="kurswalut.setup" href="#kurswalut.setup">setup</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="kurswalut.CurrencyCog" href="#kurswalut.CurrencyCog">CurrencyCog</a></code></h4>
<ul class="">
<li><code><a title="kurswalut.CurrencyCog.kurs" href="#kurswalut.CurrencyCog.kurs">kurs</a></code></li>
<li><code><a title="kurswalut.CurrencyCog.update" href="#kurswalut.CurrencyCog.update">update</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="kurswalut.Kurs" href="#kurswalut.Kurs">Kurs</a></code></h4>
<ul class="">
<li><code><a title="kurswalut.Kurs.read_multiplier" href="#kurswalut.Kurs.read_multiplier">read_multiplier</a></code></li>
<li><code><a title="kurswalut.Kurs.read_name" href="#kurswalut.Kurs.read_name">read_name</a></code></li>
<li><code><a title="kurswalut.Kurs.read_value" href="#kurswalut.Kurs.read_value">read_value</a></code></li>
<li><code><a title="kurswalut.Kurs.update" href="#kurswalut.Kurs.update">update</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>